package com.jsp.movieapp.service.imp;

import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityTransaction;

import org.springframework.beans.factory.annotation.Autowired;

import com.jsp.movieapp.dao.TicketDao;
import com.jsp.movieapp.entity.Ticket;
import com.jsp.movieapp.service.TicketService;

public class TicketServiceImplementation implements TicketService {

	 @Autowired
		TicketDao ticketDao;
		
		@Autowired
		EntityManager entityManager;

		@Override
		public Ticket saveTicket(Ticket ticket) {
			// TODO Auto-generated method stub
			return ticketDao.saveTicket(ticket);
		}

		@Override
		public Ticket findTicketById(long id) {
			return ticketDao.findTicketById(id);
		}

		@Override
		public Ticket UpdateTicket(Ticket ticket) {
			return ticketDao.UpdateTicket(ticket);
		}

		@Override
		public void deleteTicket(Ticket ticket) {
			
			EntityTransaction entityTransaction=entityManager.getTransaction();
			entityTransaction.begin();
			entityManager.remove(ticket);
			entityTransaction.commit();
		}

		@Override
		public List<Ticket> findAllTicket() {
			// TODO Auto-generated method stub
			return ticketDao.findAllTicket();
		}
}
